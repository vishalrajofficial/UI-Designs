<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Cascade - Retro Typing Arcade</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* Color palette variables */
        :root {
            --color-darkest: #0B132B;
            --color-dark: #1C2541;
            --color-medium: #3A506B;
            --color-bright: #5BC0BE;
            --color-brightest: #6FFFE9;
            --color-accent: #FF2E63;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Mono', monospace;
            background-color: var(--color-darkest);
            color: var(--color-brightest);
            overflow: hidden;
        }

        /* Main layout - split screen design */
        .game-container {
            display: flex;
            height: 100vh;
        }

        .game-area {
            flex: 1;
            position: relative;
            background: linear-gradient(180deg, var(--color-darkest) 0%, var(--color-dark) 100%);
            overflow: hidden;
            border-right: 2px solid var(--color-bright);
        }

        .sidebar {
            width: 350px;
            background-color: var(--color-dark);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.5);
            overflow-y: auto;
            max-height: 100vh;
        }

        /* Falling word styling and animation */
        .falling-word {
            position: absolute;
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            font-size: 1.5rem;
            color: var(--color-brightest);
            text-shadow: 0 0 10px var(--color-bright);
            animation: fall linear;
            transition: all 0.3s ease;
            cursor: default;
            user-select: none;
        }

        /* Desktop falling animation */
        @keyframes fall {
            from {
                transform: translateY(-50px);
            }
            to {
                transform: translateY(calc(100vh + 50px));
            }
        }

        /* Small screen falling animations - respect game area boundaries */
        @keyframes fallMobile {
            from {
                transform: translateY(-50px);
            }
            to {
                transform: translateY(calc(60vh + 50px));
            }
        }

        @keyframes fallMobileSmall {
            from {
                transform: translateY(-50px);
            }
            to {
                transform: translateY(calc(55vh + 50px));
            }
        }

        @keyframes fallMobileShort {
            from {
                transform: translateY(-50px);
            }
            to {
                transform: translateY(calc(65vh + 50px));
            }
        }



        /* Feedback animations for missed words */
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
            20%, 40%, 60%, 80% { transform: translateX(10px); }
        }

        @keyframes flash {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.3; }
        }

        .word-shake {
            animation: shake 0.5s ease-in-out !important;
            color: var(--color-accent) !important;
            text-shadow: 0 0 20px var(--color-accent) !important;
        }

        .screen-flash {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--color-accent);
            pointer-events: none;
            animation: flash 0.5s ease-in-out;
        }

        .input-field {
            background-color: var(--color-darkest);
            border: 2px solid var(--color-bright);
            color: var(--color-brightest);
            font-family: 'Space Mono', monospace;
            font-size: 1.2rem;
            padding: 1rem;
            width: 100%;
            text-align: center;
            outline: none;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            border-color: var(--color-brightest);
            box-shadow: 0 0 20px rgba(111, 255, 233, 0.3);
        }

        .btn {
            background-color: var(--color-bright);
            color: var(--color-darkest);
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            padding: 1rem 2rem;
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .btn:before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .btn:hover {
            background-color: var(--color-brightest);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(111, 255, 233, 0.5);
        }

        .btn:hover:before {
            left: 100%;
        }

        .stats-box {
            background-color: var(--color-darkest);
            border: 2px solid var(--color-medium);
            padding: 1rem;
            border-radius: 0.5rem;
        }

        .stats-box h3 {
            font-family: 'Orbitron', monospace;
            font-weight: 900;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
            color: var(--color-bright);
            text-transform: uppercase;
        }

        .stat-value {
            font-family: 'Orbitron', monospace;
            font-size: 2rem;
            font-weight: 900;
            color: var(--color-brightest);
            text-shadow: 0 0 10px var(--color-bright);
        }

        .life-container {
            display: flex;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .game-over-screen {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--color-dark);
            border: 3px solid var(--color-bright);
            padding: 2.5rem;
            text-align: center;
            box-shadow: 0 0 50px rgba(91, 192, 190, 0.5);
            display: none;
            z-index: 1000;
            min-width: 400px;
        }

        .game-over-screen h2 {
            font-family: 'Orbitron', monospace;
            font-size: 3rem;
            font-weight: 900;
            color: var(--color-accent);
            margin-bottom: 1rem;
            text-transform: uppercase;
        }

        .instructions {
            background-color: var(--color-darkest);
            border: 2px solid var(--color-medium);
            padding: 1rem;
            border-radius: 0.5rem;
            font-size: 0.8rem;
            line-height: 1.4;
        }

        .instructions h3 {
            font-family: 'Orbitron', monospace;
            font-weight: 700;
            font-size: 1rem;
            margin-bottom: 0.75rem;
            color: var(--color-bright);
            text-transform: uppercase;
        }

        .button-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .pulse {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        /* Success animations for correct words */
        .correct-word {
            animation: wordSuccess 0.5s ease-out !important;
        }

        @keyframes wordSuccess {
            0% { 
                transform: scale(1) rotate(0deg); 
                opacity: 1;
            }
            100% { 
                transform: scale(2) rotate(360deg); 
                opacity: 0;
            }
        }

        /* Particle explosion effect */
        .particles {
            position: absolute;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background-color: var(--color-brightest);
            border-radius: 50%;
            animation: particleFloat 1s ease-out forwards;
        }

        @keyframes particleFloat {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x), var(--y));
                opacity: 0;
            }
        }

        /* Responsive design - height constraints */
        @media (max-height: 700px) {
            .sidebar {
                padding: 1rem;
                gap: 1rem;
            }
            
            .stats-box {
                padding: 0.75rem;
            }
            
            .stats-box h3 {
                font-size: 1rem;
                margin-bottom: 0.25rem;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .instructions {
                padding: 0.75rem;
                font-size: 0.75rem;
            }
            
            .instructions h3 {
                font-size: 0.9rem;
                margin-bottom: 0.5rem;
            }
        }

        @media (max-width: 1200px) {
            .sidebar {
                width: 300px;
            }
        }

        @media (max-width: 768px) {
            .game-container {
                flex-direction: column;
                height: 100vh;
            }
            
            .game-area {
                flex: 1;
                border-right: none;
                border-bottom: 2px solid var(--color-bright);
                min-height: 60vh;
            }
            
            .sidebar {
                width: 100%;
                height: 40vh;
                padding: 1rem;
                gap: 1rem;
                flex-direction: row;
                flex-wrap: wrap;
                justify-content: space-between;
                overflow-y: auto;
            }
            
            .button-container {
                width: 100%;
                order: 3;
                display: flex;
                gap: 1%;
                flex-wrap: wrap;
            }
            
            .sidebar > div:first-child {
                width: 100%;
                order: 1;
            }
            
            .stats-box {
                flex: 1;
                min-width: 120px;
                margin: 0.25rem;
                padding: 0.75rem;
                order: 2;
            }
            
            .stats-box h3 {
                font-size: 0.9rem;
                margin-bottom: 0.25rem;
            }
            
            .stat-value {
                font-size: 1.5rem;
            }
            
            .btn {
                flex: 1;
                padding: 0.75rem;
                font-size: 0.9rem;
                margin: 0.25rem 0;
                min-width: 120px;
            }
            
            .instructions {
                width: 100%;
                order: 4;
                font-size: 0.75rem;
                padding: 0.75rem;
            }
            
            .instructions h3 {
                font-size: 0.9rem;
                margin-bottom: 0.5rem;
            }
            
            .falling-word {
                font-size: 1.2rem;
                animation: fallMobile linear;
            }
            
            .input-field {
                font-size: 1rem;
                padding: 0.75rem;
            }
            
            .game-over-screen {
                min-width: 90%;
                max-width: 350px;
                padding: 2rem;
            }
            
            .game-over-screen h2 {
                font-size: 2.5rem;
            }
        }

        @media (max-width: 480px) {
            body {
                font-size: 14px;
            }
            
            .sidebar {
                height: 45vh;
                padding: 0.75rem;
                gap: 0.75rem;
            }
            
            .game-area {
                min-height: 55vh;
            }
            
            .button-container {
                width: 100%;
                order: 3;
                display: flex;
                gap: 0.5%;
                flex-wrap: wrap;
            }
            
            .stats-box {
                min-width: 100px;
                padding: 0.5rem;
            }
            
            .stats-box h3 {
                font-size: 0.8rem;
            }
            
            .stat-value {
                font-size: 1.2rem;
            }
            
            .btn {
                flex: 1;
                padding: 0.6rem;
                font-size: 0.8rem;
                margin: 0.25rem 0;
                min-width: 100px;
            }
            
            .button-container {
                gap: 0.5%;
            }
            
            .instructions {
                font-size: 0.7rem;
                padding: 0.5rem;
            }
            
            .falling-word {
                font-size: 1rem;
                animation: fallMobileSmall linear;
            }
            
            .input-field {
                font-size: 0.9rem;
                padding: 0.6rem;
            }
            
            .game-over-screen {
                padding: 1.5rem;
                min-width: 95%;
            }
            
            .game-over-screen h2 {
                font-size: 2rem;
            }
            
            .life-container svg {
                width: 20px;
                height: 20px;
            }
        }

        @media (max-height: 600px) and (max-width: 768px) {
            .sidebar {
                height: 35vh;
            }
            
            .game-area {
                min-height: 65vh;
            }
            
            .falling-word {
                animation: fallMobileShort linear;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="game-area" id="gameArea">
            <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 w-96 max-w-full px-4">
                <input type="text" 
                       id="wordInput" 
                       class="input-field" 
                       placeholder="Type the falling words..."
                       disabled>
            </div>
            
            <div class="game-over-screen" id="gameOverScreen">
                <h2>Game Over</h2>
                <p class="text-2xl mb-4" style="color: var(--color-bright);">Final Score</p>
                <div class="stat-value mb-6" id="finalScore">0</div>
                <button class="btn" onclick="resetGame()">PLAY AGAIN</button>
            </div>
        </div>
        
        <div class="sidebar">
            <div class="text-center">
                <h1 class="text-2xl font-bold mb-1" style="font-family: 'Orbitron', monospace; color: var(--color-brightest);">TYPE  THE  FALLING  WORDS</h1>
                <p class="text-xs" style="color: var(--color-medium);">Retro Typing Arcade</p>
            </div>
            
            <div class="stats-box">
                <h3>Score</h3>
                <div class="stat-value" id="score">0</div>
            </div>
            
            <div class="stats-box">
                <h3>Lives</h3>
                <div class="life-container" id="livesContainer"></div>
            </div>
            
            <div class="stats-box">
                <h3>Speed</h3>
                <div class="stat-value" id="speedMultiplier">1.0x</div>
            </div>
            
            <div class="button-container">
                <button id="startBtn" class="btn pulse">
                    START GAME
                </button>
                
                <button id="pauseBtn" class="btn" style="display: none;">
                    PAUSE
                </button>
                
                <button id="startOverBtn" class="btn" style="display: none;">
                    START OVER
                </button>
            </div>
            
            <div class="instructions">
                <h3>How to Play</h3>
                <ul class="space-y-2">
                    <li>• Words fall from the top of the screen</li>
                    <li>• Type each word correctly before it reaches the bottom</li>
                    <li>• Speed increases as you progress</li>
                    <li>• Missing a word costs you a life</li>
                    <li>• Game ends when all lives are lost</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Word bank for the game
        const words = [
            'cascade', 'retro', 'arcade', 'typing', 'speed', 'challenge',
            'quick', 'focus', 'precision', 'accuracy', 'rhythm', 'flow',
            'master', 'skill', 'react', 'swift', 'blast', 'neon',
            'cyber', 'pulse', 'wave', 'flash', 'boost', 'power',
            'streak', 'combo', 'ultra', 'hyper', 'mega', 'super'
        ];

        // Game state management
        let gameState = {
            score: 0,
            lives: 3,
            isPlaying: false,
            isPaused: false,
            speed: 8000, // ms - animation duration
            spawnInterval: null,
            activeWords: new Map(),
            level: 1
        };

        // DOM element references
        const gameArea = document.getElementById('gameArea');
        const wordInput = document.getElementById('wordInput');
        const scoreElement = document.getElementById('score');
        const livesContainer = document.getElementById('livesContainer');
        const speedMultiplier = document.getElementById('speedMultiplier');
        const startBtn = document.getElementById('startBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const startOverBtn = document.getElementById('startOverBtn');
        const gameOverScreen = document.getElementById('gameOverScreen');
        const finalScore = document.getElementById('finalScore');

        function createLifeSVG() {
            return `
                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="${'var(--color-accent)'}"/>
                </svg>
            `;
        }

        function updateLives() {
            livesContainer.innerHTML = '';
            for (let i = 0; i < gameState.lives; i++) {
                const lifeDiv = document.createElement('div');
                lifeDiv.innerHTML = createLifeSVG();
                livesContainer.appendChild(lifeDiv);
            }
        }

        function updateSpeed() {
            const baseSpeed = 8000;
            const multiplier = baseSpeed / gameState.speed;
            speedMultiplier.textContent = multiplier.toFixed(1) + 'x';
        }

        function createParticles(x, y) {
            const particlesContainer = document.createElement('div');
            particlesContainer.className = 'particles';
            particlesContainer.style.left = x + 'px';
            particlesContainer.style.top = y + 'px';
            
            for (let i = 0; i < 10; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                const angle = (Math.PI * 2 * i) / 10;
                const velocity = 50 + Math.random() * 50;
                particle.style.setProperty('--x', Math.cos(angle) * velocity + 'px');
                particle.style.setProperty('--y', Math.sin(angle) * velocity + 'px');
                particlesContainer.appendChild(particle);
            }
            
            gameArea.appendChild(particlesContainer);
            setTimeout(() => particlesContainer.remove(), 1000);
        }

        // Create and spawn a new falling word
        function spawnWord() {
            if (!gameState.isPlaying || gameState.isPaused) return;
            
            const word = words[Math.floor(Math.random() * words.length)];
            const wordElement = document.createElement('div');
            wordElement.className = 'falling-word';
            wordElement.textContent = word;
            wordElement.style.left = Math.random() * (gameArea.offsetWidth - 200) + 'px';
            wordElement.style.animationDuration = gameState.speed + 'ms';
            
            const wordId = Date.now() + Math.random();
            gameState.activeWords.set(wordId, { element: wordElement, word: word });
            
            // Handle word reaching bottom
            wordElement.addEventListener('animationend', () => {
                if (gameState.activeWords.has(wordId)) {
                    missWord(wordId);
                }
            });
            
            gameArea.appendChild(wordElement);
        }

        // Handle missed word - show feedback and reduce lives
        function missWord(wordId) {
            const wordData = gameState.activeWords.get(wordId);
            if (!wordData) return;
            
            // Get current position and stop the falling animation
            const rect = wordData.element.getBoundingClientRect();
            const gameAreaRect = gameArea.getBoundingClientRect();
            const currentY = rect.top - gameAreaRect.top;
            
            // Stop the animation and set fixed position
            wordData.element.style.animation = 'none';
            wordData.element.style.transform = `translateY(${currentY}px)`;
            
            // Add shake animation and screen flash
            wordData.element.classList.add('word-shake');
            
            const flash = document.createElement('div');
            flash.className = 'screen-flash';
            gameArea.appendChild(flash);
            setTimeout(() => flash.remove(), 500);
            
            gameState.lives--;
            updateLives();
            
            setTimeout(() => {
                wordData.element.remove();
                gameState.activeWords.delete(wordId);
            }, 500);
            
            if (gameState.lives <= 0) {
                endGame();
            }
        }

        // Check typed word against falling words
        function checkWord() {
            const typedWord = wordInput.value.trim().toLowerCase();
            
            for (const [wordId, wordData] of gameState.activeWords) {
                if (wordData.word === typedWord) {
                    const rect = wordData.element.getBoundingClientRect();
                    const gameAreaRect = gameArea.getBoundingClientRect();
                    const currentY = rect.top - gameAreaRect.top;
                    
                    // Stop the falling animation and set fixed position
                    wordData.element.style.animation = 'none';
                    wordData.element.style.transform = `translateY(${currentY}px)`;
                    
                    // Create particle explosion effect
                    createParticles(
                        rect.left - gameAreaRect.left + rect.width / 2,
                        rect.top - gameAreaRect.top + rect.height / 2
                    );
                    
                    wordData.element.classList.add('correct-word');
                    gameState.activeWords.delete(wordId);
                    
                    setTimeout(() => wordData.element.remove(), 500);
                    
                    // Update score and check for level up
                    gameState.score += 10;
                    scoreElement.textContent = gameState.score;
                    wordInput.value = '';
                    
                    // Progressive difficulty increase
                    if (gameState.score % 50 === 0 && gameState.speed > 3000) {
                        gameState.speed -= 500;
                        gameState.level++;
                        updateSpeed();
                    }
                    
                    return;
                }
            }
        }

        function startGame() {
            gameState.isPlaying = true;
            gameState.isPaused = false;
            gameState.score = 0;
            gameState.lives = 3;
            gameState.speed = 8000;
            gameState.level = 1;
            
            scoreElement.textContent = gameState.score;
            updateLives();
            updateSpeed();
            
            wordInput.disabled = false;
            wordInput.focus();
            
            startBtn.style.display = 'none';
            pauseBtn.style.display = 'block';
            startOverBtn.style.display = 'block';
            
            gameState.spawnInterval = setInterval(spawnWord, 2000);
            spawnWord();
        }

        function pauseGame() {
            gameState.isPaused = !gameState.isPaused;
            pauseBtn.textContent = gameState.isPaused ? 'RESUME' : 'PAUSE';
            
            if (gameState.isPaused) {
                clearInterval(gameState.spawnInterval);
                gameState.activeWords.forEach(wordData => {
                    wordData.element.style.animationPlayState = 'paused';
                });
                wordInput.disabled = true;
            } else {
                gameState.spawnInterval = setInterval(spawnWord, 2000);
                gameState.activeWords.forEach(wordData => {
                    wordData.element.style.animationPlayState = 'running';
                });
                wordInput.disabled = false;
                wordInput.focus();
            }
        }

        function endGame() {
            gameState.isPlaying = false;
            clearInterval(gameState.spawnInterval);
            
            gameState.activeWords.forEach(wordData => {
                wordData.element.remove();
            });
            gameState.activeWords.clear();
            
            wordInput.disabled = true;
            wordInput.value = '';
            
            pauseBtn.style.display = 'none';
            startOverBtn.style.display = 'none';
            
            finalScore.textContent = gameState.score;
            gameOverScreen.style.display = 'block';
        }

        function resetGame() {
            gameOverScreen.style.display = 'none';
            startBtn.style.display = 'block';
            pauseBtn.style.display = 'none';
            startOverBtn.style.display = 'none';
            updateLives();
        }

        function startOverGame() {
            // Stop current game
            gameState.isPlaying = false;
            gameState.isPaused = false;
            clearInterval(gameState.spawnInterval);
            
            // Clear all active words
            gameState.activeWords.forEach(wordData => {
                wordData.element.remove();
            });
            gameState.activeWords.clear();
            
            // Reset pause button text
            pauseBtn.textContent = 'PAUSE';
            
            // Start fresh game immediately
            startGame();
        }

        // Event listeners for user interactions
        startBtn.addEventListener('click', startGame);
        pauseBtn.addEventListener('click', pauseGame);
        startOverBtn.addEventListener('click', startOverGame);
        wordInput.addEventListener('input', checkWord);

        // Initialize UI on page load
        updateLives();
        updateSpeed();
    </script>
</body>
</html>